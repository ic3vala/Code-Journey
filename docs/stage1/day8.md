## Day8: é›†åˆæ¡†æ¶

### 1. ä»‹ç»

- ç®€ä»‹ï¼šJavaé›†åˆæ¡†æ¶æ˜¯Javaä¸­ç”¨æ¥å¤„ç†æ•°æ®é›†åˆçš„APIï¼Œå®ƒæä¾›äº†å„ç§æ¥å£å’Œå®ç°ç±»ï¼Œç”¨äºå­˜å‚¨ã€æ“ä½œå’Œéå†æ•°æ®ã€‚

### 2. Collectionæ¥å£

- æ¦‚è¿°ï¼šCollectionæ¥å£æ˜¯Javaé›†åˆæ¡†æ¶ä¸­æœ€åŸºæœ¬çš„æ¥å£ï¼Œå®ƒå®šä¹‰äº†å¯¹é›†åˆè¿›è¡Œæ“ä½œçš„æ–¹æ³•ã€‚

- å¸¸ç”¨æ–¹æ³•ï¼š

  - `add(E e)`ï¼šæ·»åŠ å…ƒç´ 

  - `clear()`ï¼šæ¸…ç©ºé›†åˆ

  - `remove(E e)`ï¼šåˆ é™¤å…ƒç´ 

  - `contains(Object obj)`ï¼šåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ 

  - `isEmpty()`ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºç©º

  - `size()`ï¼šè·å–å…ƒç´ æ•°é‡

  - `toArray()`ï¼šå°†é›†åˆè½¬æ¢ä¸ºæ•°ç»„

### 3. Listæ¥å£åŠå…¶å®ç°ç±»

- æ¦‚è¿°ï¼šListæ¥å£æ˜¯æœ‰åºé›†åˆï¼Œå…ƒç´ å¯ä»¥é‡å¤ï¼Œå¹¶ä¸”æœ‰ç´¢å¼•ã€‚

- å®ç°ç±»ï¼š

  - `ArrayList`ï¼šåŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼ŒæŸ¥è¯¢å¿«ï¼Œå¢åˆ æ…¢

  - `LinkedList`ï¼šåŸºäºåŒå‘é“¾è¡¨å®ç°ï¼Œå¢åˆ å¿«ï¼ŒæŸ¥è¯¢æ…¢

- ç¤ºä¾‹ä»£ç ï¼š

  ```java
  import java.util.*;
  
  public class ArrayListExample {
      public static void main(String[] args) {
          List<String> list = new ArrayList<>();
          list.add("Hello");
          list.add("World");
          list.add("HAHAHAHA");
          
          // éå†æ–¹å¼1ï¼šå¢å¼ºforå¾ªç¯
          for (String str : list) {
              System.out.println(str);
          }
          
          // éå†æ–¹å¼2ï¼šè½¬æ¢ä¸ºæ•°ç»„
          String[] array = list.toArray(new String[0]);
          for (String str : array) {
              System.out.println(str);
          }
          
          // éå†æ–¹å¼3ï¼šè¿­ä»£å™¨
          Iterator<String> iterator = list.iterator();
          while (iterator.hasNext()) {
              System.out.println(iterator.next());
          }
      }
  }
  ```

### 4. Setæ¥å£åŠå…¶å®ç°ç±»

- æ¦‚è¿°ï¼šSetæ¥å£æ˜¯æ— åºé›†åˆï¼Œå…ƒç´ ä¸å¯é‡å¤ï¼Œæ²¡æœ‰ç´¢å¼•ã€‚

- å®ç°ç±»ï¼š

  - `HashSet`ï¼šåŸºäºå“ˆå¸Œè¡¨ï¼Œæ’å…¥é¡ºåºæ— åºï¼ŒæŸ¥è¯¢å¿«

  - `LinkedHashSet`ï¼šåŸºäºå“ˆå¸Œè¡¨å’Œé“¾è¡¨ï¼ŒæŒ‰æ’å…¥é¡ºåºæ’åºï¼ŒæŸ¥è¯¢å¿«

  - `TreeSet`ï¼šåŸºäºçº¢é»‘æ ‘ï¼ŒæŒ‰è‡ªç„¶é¡ºåºæ’åºï¼ŒæŸ¥è¯¢å¿«

- ç¤ºä¾‹ä»£ç ï¼š

  ```java
  import java.util.*;
  
  public class HashSetExample {
      public static void main(String[] args) {
          Set<String> set = new HashSet<>();
          set.add("Apple");
          set.add("Banana");
          set.add("Orange");
          set.add("Apple"); // ä¸ä¼šæ·»åŠ é‡å¤å…ƒç´ 
          
          System.out.println("Set: " + set);
      }
  }
  ```

### 5. Queueæ¥å£åŠå…¶å®ç°ç±»

- æ¦‚è¿°ï¼šQueueæ¥å£æ˜¯åŸºäºâ€œå…ˆè¿›å…ˆå‡ºâ€åŸåˆ™çš„é›†åˆï¼Œå…ƒç´ å¯ä»¥é‡å¤ã€‚

- å®ç°ç±»ï¼š

  - `PriorityQueue`ï¼šæŒ‰ä¼˜å…ˆçº§æ’åºçš„é˜Ÿåˆ—

  - `ArrayDeque`ï¼šåŒç«¯é˜Ÿåˆ—ï¼Œæ”¯æŒä¸¤ç«¯æ·»åŠ å’Œåˆ é™¤å…ƒç´ 

### 6. Mapæ¥å£åŠå…¶å®ç°ç±»

- æ¦‚è¿°ï¼šMapæ¥å£æ˜¯é”®å€¼å¯¹é›†åˆï¼Œé”®å”¯ä¸€ï¼Œå€¼å¯é‡å¤ã€‚

- å®ç°ç±»ï¼š

  - `HashMap`ï¼šåŸºäºå“ˆå¸Œè¡¨ï¼Œé”®æ— åº

  - `LinkedHashMap`ï¼šåŸºäºå“ˆå¸Œè¡¨å’Œé“¾è¡¨ï¼Œé”®æŒ‰æ’å…¥é¡ºåºæ’åº

  - `TreeMap`ï¼šåŸºäºçº¢é»‘æ ‘ï¼Œé”®æŒ‰è‡ªç„¶é¡ºåºæ’åº

### 7. é›†åˆç±»çš„é€‰æ‹©

- å†³ç­–æµç¨‹ï¼š

  1. æ˜¯å¦å­˜å‚¨å•ä¸ªå…ƒç´ ï¼Ÿå¦‚æœæ˜¯ï¼Œé€‰æ‹©Collectionï¼›å¦åˆ™ï¼Œé€‰æ‹©Mapã€‚

  2. æ˜¯å¦å…è®¸é‡å¤å…ƒç´ ï¼Ÿå¦‚æœå…è®¸ï¼Œé€‰æ‹©Listï¼›å¦åˆ™ï¼Œé€‰æ‹©Setã€‚

  3. æ˜¯å¦éœ€è¦é¡ºåºï¼Ÿå¦‚æœéœ€è¦ï¼Œæ ¹æ®é¡ºåºç±»å‹é€‰æ‹©LinkedListã€ArrayListã€LinkedHashSetç­‰ï¼›å¦åˆ™ï¼Œé€‰æ‹©HashSetã€‚

  4. æ˜¯å¦éœ€è¦é”®å€¼å¯¹ï¼Ÿå¦‚æœæ˜¯ï¼Œé€‰æ‹©Mapï¼Œå¹¶æ ¹æ®é”®çš„æ’åºéœ€æ±‚é€‰æ‹©HashMapã€LinkedHashMapæˆ–TreeMapã€‚

### 8. ä»£ç å®éªŒå®¤

- æ ¸å¿ƒç»ƒä¹ ï¼š

  - ä½¿ç”¨ArrayListå­˜å‚¨å’Œéå†å­—ç¬¦ä¸²
```java
import java.util.*;

public class ArrayListTest {
  public static void main(String[] args) {
    List<String> list = new ArrayList<>();
    list.add("a");
    list.add("b");
    list.add("c");
    list.add("d");
    list.add("e");

    for(String str : list) {
      System.out.print(str + " ");
    }
  }

}  
```

  - ä½¿ç”¨HashSetå»é‡
```java
import java.util.HashSet;
import java.util.Set;

public class HashSetTest {
    public static void main(String[] args) {
        Set<Integer> set = new HashSet<>();
        set.add(1);
        set.add(2);
        set.add(5);
        set.add(4);
        set.add(5);
        set.add(4);

        System.out.println(set);


    }
}
```

  - ä½¿ç”¨HashMapå­˜å‚¨é”®å€¼å¯¹
```java
import java.util.HashMap;

public class HashMapTest {
    public static void main(String[] args) {
        HashMap<String, Integer> map = new HashMap<>();
        map.put("1", 1);
        map.put("2dsfsa", 2);
        map.put("3I", 3);
        map.put("K", 4);
        map.put("uii", 5);
        System.out.println(map);
        System.out.println(map.get("K"));
        map.remove("uii");
        System.out.println(map);
    }
}

```

### 1. HashMapçš„å“ˆå¸Œå†²çªè§£å†³æœºåˆ¶

åœ¨HashMapä¸­ï¼Œå“ˆå¸Œå†²çªæ˜¯æŒ‡å¤šä¸ªé”®ï¼ˆkeyï¼‰ç»è¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—åï¼Œæ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶ï¼ˆbucketï¼‰ä¸­çš„æƒ…å†µã€‚ä¸ºäº†è§£å†³å“ˆå¸Œå†²çªï¼ŒHashMapé‡‡ç”¨äº†é“¾åœ°å€æ³•ï¼ˆChainingï¼‰æ¥å¤„ç†ã€‚

å…·ä½“æ¥è¯´ï¼ŒHashMapå†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªæ§½ä½ï¼ˆslotï¼‰éƒ½æ˜¯ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚å½“å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼Œå†²çªçš„é”®å€¼å¯¹ä¼šè¢«æ·»åŠ åˆ°åŒä¸€ä¸ªé“¾è¡¨ä¸­ã€‚è¿™æ ·ï¼Œå³ä½¿å¤šä¸ªé”®æ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶ï¼Œå®ƒä»¬ä»ç„¶å¯ä»¥è¢«æ­£ç¡®åœ°å­˜å‚¨å’Œæ£€ç´¢ã€‚

ä¸ºäº†æé«˜æ€§èƒ½ï¼ŒHashMapåœ¨JDK 8ä¸­å¼•å…¥äº†ä¸€ç§ä¼˜åŒ–æœºåˆ¶ï¼Œç§°ä¸ºâ€œæ ‘åŒ–â€ï¼ˆtree binï¼‰ã€‚å½“é“¾è¡¨é•¿åº¦è¾¾åˆ°ä¸€å®šé˜ˆå€¼ï¼ˆé»˜è®¤ä¸º8ï¼‰æ—¶ï¼Œé“¾è¡¨ä¼šè¢«è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œä»¥å‡å°‘æœç´¢æ—¶é—´ã€‚ä¸è¿‡ï¼Œè¿™ç§ä¼˜åŒ–åœ¨JDK 9ä¸­è¢«ç§»é™¤äº†ï¼Œå› ä¸ºå‘ç°å®ƒå¯èƒ½å¯¼è‡´æŸäº›åœºæ™¯ä¸‹çš„æ€§èƒ½ä¸‹é™ã€‚

æ­¤å¤–ï¼ŒHashMapè¿˜æä¾›äº†`hash`æ–¹æ³•æ¥å¯¹é”®çš„hashCodeè¿›è¡Œæ‰°åŠ¨ï¼Œä»¥å‡å°‘å“ˆå¸Œå†²çªçš„å¯èƒ½æ€§ã€‚è¿™ä¸ªæ–¹æ³•åœ¨JDK 1.8ä¸­è¢«å¼•å…¥ï¼Œç›®çš„æ˜¯æé«˜å“ˆå¸Œå€¼çš„éšæœºæ€§ï¼Œä»è€Œå‡å°‘å†²çªã€‚

### 2. ArrayListçš„åŠ¨æ€æ‰©å®¹åŸç†

ArrayListæ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼Œå½“æ•°ç»„æ»¡äº†æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è¿›è¡Œæ‰©å®¹ã€‚åœ¨Javaä¸­ï¼ŒArrayListçš„æ‰©å®¹æœºåˆ¶å¦‚ä¸‹ï¼š

- é»˜è®¤æƒ…å†µä¸‹ï¼ŒArrayListçš„åˆå§‹å®¹é‡æ˜¯10ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“åˆ›å»ºä¸€ä¸ªä¸å¸¦åˆå§‹å®¹é‡å‚æ•°çš„ArrayListæ—¶ï¼Œå®ƒçš„å®¹é‡ä¸º10ã€‚

- å½“æ·»åŠ çš„å…ƒç´ è¶…è¿‡å½“å‰å®¹é‡æ—¶ï¼ŒArrayListä¼šè¿›è¡Œæ‰©å®¹ã€‚æ‰©å®¹çš„ç­–ç•¥æ˜¯ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå¤§å°ä¸ºåŸæ•°ç»„å¤§å°çš„1.5å€ï¼Œç„¶åå°†åŸæ•°ç»„çš„æ‰€æœ‰å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ï¼Œå¹¶å°†å¼•ç”¨æŒ‡å‘æ–°çš„æ•°ç»„ã€‚

- åœ¨æ·»åŠ å…ƒç´ æ—¶ï¼ŒArrayListä¼šæ£€æŸ¥å½“å‰å®¹é‡æ˜¯å¦è¶³å¤Ÿï¼Œå¦‚æœä¸å¤Ÿï¼Œåˆ™è¿›è¡Œæ‰©å®¹ã€‚

- æ‰©å®¹æ“ä½œæ˜¯ä¸€ä¸ªæ¶ˆè€—æ€§èƒ½çš„æ“ä½œï¼Œå› æ­¤åœ¨åˆ›å»ºArrayListæ—¶ï¼Œå¦‚æœå·²çŸ¥éœ€è¦å­˜å‚¨çš„å…ƒç´ æ•°é‡ï¼Œå»ºè®®æŒ‡å®šåˆå§‹å®¹é‡ï¼Œä»¥é¿å…ä¸å¿…è¦çš„æ‰©å®¹æ“ä½œã€‚

### 3. Iteratoréå†çš„å®‰å…¨æ€§é—®é¢˜

åœ¨Javaä¸­ï¼ŒIteratoræ˜¯ç”¨æ¥éå†é›†åˆçš„è¿­ä»£å™¨ã€‚ä¸ºäº†ä¿è¯åœ¨éå†è¿‡ç¨‹ä¸­é›†åˆä¸ä¼šè¢«ä¿®æ”¹ï¼ŒIteratoræä¾›äº†ä¸€ä¸ª`remove`æ–¹æ³•ï¼Œå…è®¸åœ¨éå†æ—¶åˆ é™¤å½“å‰è¿­ä»£çš„å…ƒç´ ã€‚

ç„¶è€Œï¼Œå¦‚æœåœ¨éå†è¿‡ç¨‹ä¸­å¯¹é›†åˆè¿›è¡Œæ·»åŠ ã€åˆ é™¤æˆ–å…¶ä»–ä¿®æ”¹æ“ä½œï¼Œå¯èƒ½ä¼šå¯¼è‡´`ConcurrentModificationException`å¼‚å¸¸ï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢åœ¨è¿­ä»£è¿‡ç¨‹ä¸­é›†åˆè¢«æ„å¤–åœ°ä¿®æ”¹ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨çš„`remove`æ–¹æ³•æ¥å®‰å…¨åœ°åˆ é™¤å…ƒç´ ï¼Œæˆ–è€…ä½¿ç”¨è¿­ä»£å™¨çš„`forEachRemaining`æ–¹æ³•æ¥éå†å‰©ä½™çš„å…ƒç´ ã€‚

æ­¤å¤–ï¼ŒJavaè¿˜æä¾›äº†`ListIterator`æ¥å£ï¼Œå®ƒæ‰©å±•äº†`Iterator`æ¥å£ï¼Œæä¾›äº†åŒå‘éå†çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥ä½¿ç”¨`set`æ–¹æ³•æ¥æ›¿æ¢å½“å‰å…ƒç´ ã€‚

æ€»ä¹‹ï¼Œåœ¨ä½¿ç”¨Iteratoréå†æ—¶ï¼Œè¦ç¡®ä¿åœ¨éå†è¿‡ç¨‹ä¸­ä¸ä¿®æ”¹é›†åˆï¼Œé™¤éä½¿ç”¨Iteratoræä¾›çš„å®‰å…¨åˆ é™¤æ–¹æ³•ã€‚


### 9. å¯¼èˆª

- [â¬…ï¸ Day7 å¼‚å¸¸å¤„ç†](./day7.md)

- [â¡ï¸ Day9 æ–‡ä»¶ä¸IO](./day9.md)

- [ğŸ  è¿”å›ç›®å½•](../../README.md)
